<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:EasySave.ViewModels"
             x:Class="EasySave.Views.JobSettingsView"
             x:DataType="vm:JobSettingsViewModel">

    <Grid VerticalAlignment="Center" HorizontalAlignment="Center" Margin="20" MaxWidth="500">
        <Border Background="#1E1E1E" BorderBrush="#333333" BorderThickness="1" CornerRadius="8" Padding="25">
            <StackPanel Spacing="15">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10" Margin="0,0,0,10">
                    <TextBlock Text="ðŸ“" FontSize="24" VerticalAlignment="Center"/>
                    <TextBlock Text="ParamÃ¨tres du Travail" FontSize="22" FontWeight="Bold" Foreground="White" VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Nom du travail" Foreground="#AAAAAA" FontSize="12" FontWeight="SemiBold"/>
                    <TextBox Text="{Binding Name, Mode=TwoWay}" Watermark="Nom..." Background="#252526" BorderBrush="#333333" Foreground="White" CornerRadius="6" Height="40" VerticalContentAlignment="Center"/>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Dossier Source" Foreground="#AAAAAA" FontSize="12" FontWeight="SemiBold"/>
                    <Grid ColumnDefinitions="*, Auto">
                        <TextBox Grid.Column="0" Text="{Binding Source, Mode=TwoWay}" Watermark="Chemin source..." Background="#252526" BorderBrush="#333333" Foreground="White" CornerRadius="6" Height="40" VerticalContentAlignment="Center"/>
                        <Button Grid.Column="1" Click="SelectSource_Click" Margin="10,0,0,0" Background="#2E2E2E" CornerRadius="6"><TextBlock Text="ðŸ“‚"/></Button>
                    </Grid>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Dossier Cible" Foreground="#AAAAAA" FontSize="12" FontWeight="SemiBold"/>
                    <Grid ColumnDefinitions="*, Auto">
                        <TextBox Grid.Column="0" Text="{Binding Destination, Mode=TwoWay}" Watermark="Chemin cible..." Background="#252526" BorderBrush="#333333" Foreground="White" CornerRadius="6" Height="40" VerticalContentAlignment="Center"/>
                        <Button Grid.Column="1" Click="SelectDestination_Click" Margin="10,0,0,0" Background="#2E2E2E" CornerRadius="6"><TextBlock Text="ðŸ“‚"/></Button>
                    </Grid>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Type de sauvegarde" Foreground="#AAAAAA" FontSize="12" FontWeight="SemiBold" Margin="0,5,0,0"/>
                    <StackPanel Orientation="Horizontal" Spacing="20" Margin="0,5,0,0">
                        <RadioButton Content="ComplÃ¨te" 
                                     Foreground="White"
                                     IsChecked="{Binding !IsDifferential}" />
                        <RadioButton Content="DiffÃ©rentielle" 
                                     Foreground="White"
                                     IsChecked="{Binding IsDifferential}" />
                    </StackPanel>
                </StackPanel>

                <Separator Height="1" Background="#333333" Margin="0,5"/>

                <TextBlock Text="{Binding ErrorMessage}" 
                           Foreground="#E53935" 
                           FontSize="12" 
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           TextWrapping="Wrap"
                           IsVisible="{Binding ErrorMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"/>

                <Grid ColumnDefinitions="*, *" Margin="0,10,0,0">
                    <Button Grid.Column="0" Content="Annuler" Command="{Binding CancelCommand}" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="45" Margin="0,0,10,0" CornerRadius="6" Background="Transparent" BorderBrush="#333333" BorderThickness="1" Foreground="#AAAAAA" FontWeight="Bold"/>
                    <Button Grid.Column="1" Content="Enregistrer" Command="{Binding SaveCommand}" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="45" Margin="10,0,0,0" CornerRadius="6" Background="#1976D2" Foreground="White" FontWeight="Bold"/>
                </Grid>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>